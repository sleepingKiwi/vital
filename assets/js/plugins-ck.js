/*******************************************************
1 - Paul Irish stopping me breaking everything with console.log

2 - adding position fixed support to modernizr - with horrible android/ios hacks

3 - ipod zoom on orientation fix - thanks to http://adactio.com/journal/4470/

3.5 - hiding address bar on mobile... //https://github.com/scottjehl/Hide-Address-Bar/blob/master/hide-address-bar.js

4- Smart resize - http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/

5- Ajax for WP comments - from - http://www.makeuseof.com/tag/ajaxify-wordpress-comments/

6- Picturefill - https://github.com/scottjehl/picturefill
*******************************************************/// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
window.log=function e(){log.history=log.history||[];log.history.push(arguments);if(this.console){var t=arguments,n;try{t.callee=e.caller}catch(r){}n=[].slice.call(t);typeof console.log=="object"?log.apply.call(console.log,console,n):console.log.apply(console,n)}};(function(e){function t(){}var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn",r;for(n=n.split(",");!!(r=n.pop());)e[r]=e[r]||t})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());(function(e,t){function s(){var i="scrollTop"in e.document.body?e.document.body.scrollTop:e.document.documentElement.scrollTop;if(i!==t&&i>0&&e.document.body){e.document.body.insertBefore(r,e.document.body.firstChild);if(!r.getBoundingClientRect||r.getBoundingClientRect().top!==0)e.document.documentElement.className=e.document.documentElement.className.replace(n,"");e.document.body.removeChild(r);e.removeEventListener?e.removeEventListener("scroll",s,!1):e.detachEvent("onscroll",s)}}var n="fixed-supported",r=e.document.createElement("div"),i=e.navigator.userAgent;r.style.position="fixed";r.style.top=0;if(!(i.match(/Android 2\.[1256]/)&&i.indexOf("AppleWebKit")>-1)||!(i.match(/Opera Mobi\/([0-9]+)/)&&RegExp.$1<7458)||!e.operamini||{}.toString.call(e.operamini)!=="[object OperaMini]"||!(i.match(/Fennec\/([0-9]+)/)&&RegExp.$1<6)){e.document.documentElement.className+=" "+n;e.addEventListener?e.addEventListener("scroll",s,!1):e.attachEvent("onscroll",s)}})(this);jQuery(function(){if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)){var e=document.querySelector('meta[name="viewport"]');if(e){e.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";document.body.addEventListener("gesturestart",function(){e.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},!1)}}});(function(e){var t=e.document;if(!location.hash&&e.addEventListener){e.scrollTo(0,1);var n=1,r=function(){return e.pageYOffset||t.compatMode==="CSS1Compat"&&t.documentElement.scrollTop||t.body.scrollTop||0},i=setInterval(function(){if(t.body){clearInterval(i);n=r();e.scrollTo(0,n===1?0:1)}},15);e.addEventListener("load",function(){setTimeout(function(){r()<20&&e.scrollTo(0,n===1?0:1)},0)},!1)}})(this);(function(e,t,n){var r=function(e,t,n){var r;return function(){function u(){n||e.apply(s,o);r=null}var s=this,o=arguments;r?clearTimeout(r):n&&e.apply(s,o);r=setTimeout(u,t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",r(e)):this.trigger(t)};jQuery.fn[n]=function(e){return e?this.bind("scroll",r(e)):this.trigger(n)}})(jQuery,"smartresize","smartscroll");jQuery("document").ready(function(e){var t=e("#commentform");t.prepend('<div id="comment-status" ></div>');var n=e("#comment-status");t.submit(function(){var r=t.serialize();n.html("<p>Processing...</p>");var i=t.attr("action");e.ajax({type:"post",url:i,data:r,error:function(e,t,r){n.html('<p class="wdpajax-error" >Could not post comment: Have you left a required field blank?</p>')},success:function(e,r){e==="success"?n.html('<p class="ajax-success" >Thank you! <br> If this is your first time commenting your comment will be moderated and may not show up straight away.</p>'):n.html('<p class="ajax-error" >Please wait a while before posting your next comment!</p>');t.find("textarea[name=comment]").val("")}});return!1})});(function(e){"use strict";e.picturefill=function(){var t=e.document.getElementsByTagName("span");for(var n=0,r=t.length;n<r;n++){if(t[n].getAttribute("data-deferred")!==null)continue;if(t[n].getAttribute("data-picture")!==null){var i=t[n].getElementsByTagName("span"),s=[];for(var o=0,u=i.length;o<u;o++){var a=i[o].getAttribute("data-media");(!a||e.matchMedia&&e.matchMedia(a).matches)&&s.push(i[o])}var f=t[n].getElementsByTagName("img")[0];if(s.length){var l=s.pop();if(!f||f.parentNode.nodeName==="NOSCRIPT"){f=e.document.createElement("img");f.alt=t[n].getAttribute("data-alt")}else if(l===f.parentNode)continue;f.src=l.getAttribute("data-src");l.appendChild(f)}else f&&f.parentNode.removeChild(f)}}};if(e.addEventListener){e.addEventListener("resize",e.picturefill,!1);e.addEventListener("DOMContentLoaded",function(){e.picturefill();e.removeEventListener("load",e.picturefill,!1)},!1);e.addEventListener("load",e.picturefill,!1)}else e.attachEvent&&e.attachEvent("onload",e.picturefill)})(this);