/*------------------------------------*\
    $PICTUREFILL PADDING
\*------------------------------------*/
.picturefill-wrap-padded{
    position: relative;

    display: inline-block;
    *display: inline;
    *zoom:1;

    max-width: 100%;

    .no-js &{
        /**
         * php assigns fixed widths to these wraps but those assume that 
         * the largest image variant will be available which may not be the 
         * case with js disabled depending on which fallback image we load...
         */
        width: auto;
    }

    .picturefill-padder{
        height: 0;
        width: 100%;

        display: inline-block;
        *display: inline;
        *zoom:1;
        vertical-align: top;

        position: static;
        left:0;
        top:0;
        z-index: 0;

        background: url('../../img/loader.gif') no-repeat center darken($brand-c-body-back,2%);
        transition: opacity $brand-transition ease;

        .no-js &{
            display: none;
        }
    }

    img{
        position: relative;
        z-index: 1;
    }
}

a > .picturefill-wrap-padded{
    //removing spacing
    vertical-align: top;
}

.wp-caption{
    .picturefill-wrap-padded{
        display: block;
        margin:0 auto;
    }
}

.picturefill-wrap, .picturefill{
    img{
        opacity:0;
        transition: opacity $brand-transition ease;

        vertical-align: top;
        max-width:100%;
        height: auto;

        .no-js &{
            opacity:1;
        }
    }
}

.picturefill-loading{
    img{
        position: absolute;
        top:0;
        left:0;
        width: 100%;
        height: auto;
        z-index: 1;
    }
}

.picturefill-loaded{
    .picturefill-padder{
        position: absolute;
        background-image: none;
        opacity: 0;
    }

    img{
        opacity:1;
        position: relative;
    }
}


/**
 * PIXELHOLDER backgrounds
 */
.picturefill-padder-back-image{
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    opacity: 0.8;
}